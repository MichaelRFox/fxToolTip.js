var fxToolTip=function(){"use strict";function e(e,t){var o,n,i,r,d=l(e),a=function(e){var o=e,n=H.offsetHeight/2;return 0>e?(o=0,n=Math.max(t.arrowSize()+t.borderRadius(),e+H.offsetHeight/2)):e+H.offsetHeight>R&&(o=R-H.offsetHeight,n=Math.min(H.offsetHeight-t.borderRadius()-t.arrowSize(),H.offsetHeight/2+e-o)),{topAdjust:Math.round(o),arrowAdjust:Math.round(n)}},s=function(e){var o=e,n=H.offsetWidth/2;return 0>e?(o=0,n=Math.max(t.arrowSize()+t.borderRadius(),e+H.offsetWidth/2)):e+H.offsetWidth>C&&(o=C-H.offsetWidth,n=Math.min(H.offsetWidth-t.borderRadius()-t.arrowSize(),H.offsetWidth/2+e-o)),{leftAdjust:Math.round(o),arrowAdjust:Math.round(n)}};switch(t.orientation()){case"top":o=d.top-t.arrowSize()-H.offsetHeight,n=d.width/2+d.left-H.offsetWidth/2,r=s(n),L.top=Math.round(o)+"px",L.left=r.leftAdjust+"px",O.top="99.5%",O.left=r.arrowAdjust+"px",O.bottom="",O.right="",O.marginLeft=-t.arrowSize()+"px",O.marginTop="",O.borderColor=t.backgroundColor()+" transparent transparent transparent";break;case"bottom":o=d.top+d.height+t.arrowSize(),n=d.width/2+d.left-H.offsetWidth/2,r=s(n),L.top=Math.round(o)+"px",L.left=r.leftAdjust+"px",O.top="",O.left=r.arrowAdjust+"px",O.bottom="99.5%",O.right="",O.marginLeft=-t.arrowSize()+"px",O.marginTop="",O.borderColor="transparent transparent "+t.backgroundColor()+" transparent";break;case"left":o=d.height/2+d.top-H.offsetHeight/2,n=d.left-H.offsetWidth-t.arrowSize(),i=a(o),L.top=i.topAdjust+"px",L.left=Math.round(n)+"px",O.top=i.arrowAdjust+"px",O.left="99.5%",O.bottom="",O.right="",O.marginLeft="",O.marginTop=-t.arrowSize()+"px",O.borderColor="transparent transparent transparent "+t.backgroundColor();break;case"right":o=d.height/2+d.top-H.offsetHeight/2,n=d.left+d.width+t.arrowSize(),i=a(o),L.top=i.topAdjust+"px",L.left=Math.round(n)+"px",O.top=i.arrowAdjust+"px",O.left="",O.bottom="",O.right="99.5%",O.marginLeft="",O.marginTop=-t.arrowSize()+"px",O.borderColor="transparent "+t.backgroundColor()+" transparent transparent"}}function t(e,t){var o=l(e),n=o.left+o.width/2,i=o.top+o.height/2,r=n-H.offsetWidth/2,d=C-n-H.offsetWidth/2,a=i-H.offsetHeight/2,s=R-i-H.offsetHeight/2,u=o.left-t.arrowSize()-H.offsetWidth,f=C-H.offsetWidth-t.arrowSize()-o.left-o.width,p=o.top-t.arrowSize()-H.offsetHeight,c=R-H.offsetHeight-t.arrowSize()-o.top-o.height,h=Math.min(a,s,u),m=Math.min(a,s,f),g=Math.min(r,d,p),v=Math.min(r,d,c);switch(t.preferredOrientation()){case"left":if(h>=0)return"left";break;case"right":if(m>=0)return"right";break;case"top":if(g>=0)return"top";break;case"bottom":if(v>=0)return"bottom"}0>h&&0>m&&0>g&&0>v&&(h+=o.height,m+=o.height,g+=o.width,v+=o.width);var w=Math.max(h,m,g,v);switch(!0){case h==w:return"left";case m==w:return"right";case g==w:return"top";case v==w:return"bottom"}}function o(e){var t;L.fontFamily=e.font().family,L.fontSize=e.font().size+"px",L.color=e.foregroundColor(),L.backgroundColor=e.backgroundColor(),L.padding=e.padding(),L.borderRadius=e.borderRadius()+"px",O.borderWidth=e.arrowSize()+"px",P.cursor=e.cursor(),L.boxShadow=e.boxShadow(),L["-moz-boxShadow"]=e.boxShadow(),L["-webkit-boxShadow"]=e.boxShadow(),t=e.transitionVisible(),L.transition=t,L["-moz-transition"]=t,L["-webkit-transiton"]=t,L["-o-transition"]=t,L.width=e.minWidth()+"px",H.innerHTML=e.content()}function n(e){"undefined"!=typeof d3?(y=d3.event.clientX,T=d3.event.clientX):(y=e.clientX,T=e.clientY)}function i(i){var r,d=this;i=i||window.event,"hidden"!==L.visibility&&(L.transition="",clearTimeout(S)),L.visibility="visible",n(i),r=z[k.indexOf(d.id)],o(r),r.autoSize()&&a(r),L.width=r.width()+"px",r.autoPosition()&&r.orientation(t(d,r),!0),e(d,r),L.opacity=r.backgroundOpacity()}function r(o){var i,r=this;i=z[k.indexOf(r.id)],i.trackMouse()&&(o=o||window.event,n(o),i.autoPosition()&&i.orientation(t(r,i),!0),e(r,i))}function d(e){var t,o,n,i=this;e=e||window.event,t=z[k.indexOf(i.id)],o=t.transitionHidden(),L.transition=o,L["-moz-transition"]=o,L["-webkit-transiton"]=o,L["-o-transition"]=o,n=o.split(" ")[1].replace("s",""),S=window.setTimeout(function(){L.visibility="hidden"},1e3*n),L.opacity=0}function a(e){var t,o,n;t=H.offsetWidth+H.offsetHeight,H.style.width="",o=1/((E+1)/t),n=t-o,e.width(Math.max(e.minWidth(),Math.round(n)),!0)}function s(e,t){var o,n=this,a=void 0,s={content:"",orientation:"",preferredOrientation:"right",autoPosition:!0,autoSize:!0,mousePoint:!1,trackMouse:!1,cursor:"help",fontFamily:"Tahoma",fontSize:"16",foregroundColor:"beige",backgroundColor:"midnightBlue",backgroundOpacity:1,padding:"5px 10px",borderRadius:12,boxShadow:"8px 8px 8px 0 rgba(0,0,0, 0.5)",transitionVisible:"opacity 0.4s 0s",transitionHidden:"opacity 0.4s 0s",arrowSize:12,width:"auto",minWidth:80};return n.content=function(e){return"undefined"==typeof e?s.content:(s.content=e,n)},n.orientation=function(e,t){return"undefined"==typeof e?s.orientation:(t="undefined"==typeof t?!1:t,s.orientation=e,s.autoPosition=t,n)},n.preferredOrientation=function(e){return"undefined"==typeof e?s.preferredOrientation:(s.preferredOrientation=e,n)},n.autoPosition=function(e){return"undefined"==typeof e?s.autoPosition:(s.autoPosition=e,e&&""==s.position&&(s.position="right"),n)},n.autoSize=function(e){return"undefined"==typeof autosize?s.autoSize:(s.autoSize=e,n)},n.mousePoint=function(e){return"undefined"==typeof e?s.mousePoint:(s.mousePoint=e,n)},n.trackMouse=function(e){return"undefined"==typeof e?s.trackMouse:(s.trackMouse=e,s.mousePoint=e,n)},n.cursor=function(e){return"undefined"==typeof e?s.cursor:(s.cursor=e,n)},n.font=function(e,t){return 0==arguments.length?{family:s.fontFamily,size:s.fontSize}:(1==arguments.length&&(t="1em"),s.fontFamily=e,s.fontSize=h(t),n)},n.foregroundColor=function(e){return"undefined"==typeof e?s.foregroundColor:(s.foregroundColor=e,n)},n.backgroundColor=function(e){return"undefined"==typeof e?s.backgroundColor:(s.backgroundColor=e,n)},n.backgroundOpacity=function(e){return"undefined"==typeof e?s.backgroundOpacity:(s.backgroundOpacity=e,n)},n.padding=function(e){if("undefined"==typeof e)return s.padding;var t,o;switch(e=e.split(" ",4),e.length){case 0:return s.padding;case 1:t=h(e[0]),s.padding=t+"px "+t+"px "+t+"px "+t+"px";break;case 2:t=h(e[0]),o=h(e[1]),s.padding=t+"px "+o+"px "+t+"px "+o+"px";break;case 3:t=h(e[1]),s.padding=h(e[0])+"px "+t+"px "+h(e[2])+"px "+t+"px";break;case 4:s.padding=h(e[0])+"px "+h(e[1])+"px "+h(e[2])+"px "+h(e[3])+"px"}return n},n.borderRadius=function(e){return"undefined"==typeof e?s.borderRadius:(s.borderRadius=h(e),n)},n.boxShadow=function(e,t,o){if(0==arguments.length)return s.boxShadow;var i,r,d,a=void 0;return"none"==arguments[0]?s.boxShadow="":(r=h(e),i=c(t),0!==o?(a=i.match(/\d+/g),d="rgba("+parseInt(a[0])+","+parseInt(a[1])+","+parseInt(a[2])+","+o+")"):d=i,s.boxShadow=r+"px "+r+"px "+r+"px 0 "+d),n},n.transitionVisible=function(e,t){return 0==arguments.length?s.transitionVisible:(s.transitionVisible="opacity "+t+"s ease-in "+e+"s",n)},n.transitionHidden=function(e,t){return 0==arguments.length?s.transitionHidden:(s.transitionHidden="opacity "+t+"s ease-out "+e+"s",n)},n.arrowSize=function(e){return"undefined"==typeof e?s.arrowSize:(s.arrowSize=h(e),n)},n.width=function(e,t){return"undefined"==typeof e?s.width:(t="undefined"==typeof t?!1:!0,s.width=h(e),s.autoSize=t,n)},n.minWidth=function(e){return"undefined"==typeof e?s.minWidth:(s.minWidth=h(e),n)},n.remove=function(){window.clearInterval(a),"undefined"!=typeof d3?o.classed("fxToolTipTarget",!1).on("mouseover",null).on("mouseout",null).on("mousemove",null):(o.className=o.className.replace(" fxToolTipTarget",""),o.removeEventListener?(o.removeEventListener("mouseover",i),o.removeEventListener("mouseout",d),o.removeEventListener("mousemove",r)):(o.onmousemove=null,o.onmouseover=null,o.onmouseout=null));var t=k.indexOf(e);z.splice(t,1),k.splice(t,1),0==z.length?w():a=window.setInterval(u,I)},"undefined"!=typeof d3?o=d3.select("#"+e).classed("fxToolTipTarget",!0).on("mouseover",i).on("mouseout",d).on("mousemove",r):(o=document.getElementById(e),o.className+=" fxToolTipTarget",o.addEventListener?(o.addEventListener("mouseover",i,!1),o.addEventListener("mouseout",d,!1),o.addEventListener("mousemove",r,!1)):(o.onmouseover=i,o.onmouseout=d,o.onmousemove=r)),s.content=t,n}function u(){k.forEach(function(e,t){null==document.getElementById(e)&&z[t].remove()})}function f(){C=document.documentElement.clientWidth||window.innerWidth||document.body.clientWidth,R=document.documentElement.clientHeight||window.innerHeight||document.body.clientHeight,E=C/R}function l(e){var t=15,o={},n=z[k.indexOf(e.id)];n.mousePoint()?(o.left=y-t,o.top=T-t,o.right=y+t,o.bottom=T+t):(o=e.getBoundingClientRect(),o.left-=t,o.top-=t,o.right+=t,o.bottom+=t);var i=o.bottom-o.top,r=o.right-o.left;return{top:o.top,left:o.left,height:i,width:r}}function p(e){var t=e.match(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i);return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}function c(e){var t;return A.style.color=e,t=getComputedStyle(A,null).color,t=-1!==t.indexOf("#")?p(t):t.match(/\d+/g),"rgb("+t[0]+","+t[1]+","+t[2]+")"}function h(e){return"number"==typeof e?e:(A.style.width=e,parseInt(window.getComputedStyle(A,null).getPropertyValue("width"),10))}function m(e){e=e.toLowerCase();for(var t=0;t<W.length;t++)if(W[t].selectorText.toLowerCase()==e)return W[t]}function g(e){e=e.toLowerCase();for(var t=0;t<W.length;t++)if(W[t].selectorText.toLowerCase()==e)return t;return null}function v(){if(!j){if(window.addEventListener?window.addEventListener("resize",f):window.attachEvent?window.attachEvent("onresize",f):window.onresize=f,f(),0==document.styleSheets.length){var e=document.getElementsByTagName("head")[0];M=document.createElement("style"),M.type="text/css",M.rel="stylesheet",M.media="screen",M.title="fxToolTip",M=e.appendChild(M).sheet}M=document.styleSheets[0],W=M.cssRules?M.cssRules:M.rules,M.insertRule?(M.insertRule(".fxToolTip {opacity: 0;position: fixed;visibility: hidden;z-index: 1;pointer-events: none;display: inline-block;}",W.length),M.insertRule('.fxToolTip::after{content: "";position: absolute;border-style: solid;pointer-events: none;}',W.length),M.insertRule(".fxToolTipTarget {cursor: help;}",W.length)):(M.addRule(".fxToolTip","{opacity: 0;position: fixed;visibility: hidden;z-index: 1;pointer-events: none;display: inline-block;}",W.length),M.addRule(".fxToolTip::after",'{content: "";position: absolute;border-style: solid;pointer-events: none;}',W.length),M.addRule(".fxToolTipTarget","{cursor: help;}",W.length)),L=m(".fxToolTip").style,O=m(".fxToolTip::after").style,P=m(".fxToolTipTarget").style,H=document.createElement("div"),H.className="fxToolTip",document.body.insertBefore(H,document.body.firstChild),A=document.createElement("div"),A.style.visible="hidden",A.style.position="absolute",A.style.display="inline-block",document.body.insertBefore(A,document.body.firstChild),j=!0}}function w(){window.removeEventListener?window.removeEventListener("resize",f):window.detachEvent?window.detachEvent("onresize",f):window.onresize="",M.deleteRule?(M.deleteRule(g(".fxToolTip")),M.deleteRule(g(".fxToolTip::after")),M.deleteRule(g(".fxToolTipTarget"))):(M.removeRule(g(".fxToolTip")),M.removeRule(g(".fxToolTip::after")),M.removeRule(g(".fxToolTipTarget"))),H.parentNode.removeChild(H),A.parentNode.removeChild(A),M=void 0,W=void 0,j=!1}function x(e,t){if(null!=document.getElementById(e)){j||v();var o;o=k.indexOf(e),-1!==o&&z[o].remove();var n=new s(e,t);return z.push(n),k.push(e),z[z.length-1]}}function b(e){var t;t=k.indexOf(e),-1!==t&&z[t].remove()}var y=void 0,T=void 0,S=void 0,z=[],k=[],C=void 0,R=void 0,E=void 0,M=void 0,W=void 0,H=void 0,L=void 0,O=void 0,P=void 0,j=!1,A=void 0,I=500,B={create:x,remove:b};return B}();